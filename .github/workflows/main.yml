name: Build Jittertrap

on:
  push:
    branches:
    - master
    - release/*
  pull_request:
    branches:
    - master
  schedule:
    - cron: "0 2 * * 1"
  workflow_dispatch:

jobs:
  ubuntu_1804:
    name: deploy to ubuntu 18.04
    runs-on: ubuntu-18.04
  ubuntu_latest:
    name: deploy to ubuntu-latest
    runs-on: ubuntu-latest
    
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v4
      - name: Install Build Dependencies
        run: |
          sudo apt-get update
          sudo apt-get install libnl-3-dev libnl-route-3-dev libnl-genl-3-dev libjansson-dev libwebsockets-dev libncurses5-dev libpcap-dev pkgconf
      - name: make
        run: make
